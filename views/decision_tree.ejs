<pre><%= //JSON.stringify(menus);%></pre>

    <div class="row" style="width:100% !important;">
        <div class="col-md-5" style=" overflow: auto; background: #fff;">
            <div class="chat-screen">

                <div class="col-md-12" style="margin-top:20px;">
                    <div class="form-group">
                        <input type="hidden" class="form-control" name="tree_node_id" id="tree_node_id">
                        <input type="hidden" class="form-control" name="main_tree_node_id" id="main_tree_node_id">
                        <input type="text" class="form-control" name="searchText" id="searchText" placeholder="search Keyword..." >
                    </div>
                </div>
                <div id="treebar">
                    <%- treeViewHtml %> <!-- The tree view HTML generated by the server -->
                </div>
            </div>
        </div>
        <div class="col-md-7" style="background-color:aliceblue; height:100vh; -webkit-box-shadow: -9px 0px 16px -3px rgba(0,0,0,0.08);
                                                                 -moz-box-shadow: -9px 0px 16px -3px rgba(0,0,0,0.08);
                                                                 box-shadow: -9px 0px 16px -3px rgba(0,0,0,0.08); height:500px; overflow: auto;">
            <div style="font-size:25px; font-weight:bold;">Guidence Steps Attached</div>
            <div id="gallery_res" style="width:100%;height:auto;"></div>
        </div>
    </div>


    <link rel="stylesheet" href="assets/tree/css/style.css" type="text/css" media="all">
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:400,600,700"
        rel="stylesheet"/>
    <!-- END GLOBAL MANDATORY STYLES -->
    <style>
       
        .tree_tab{ margin: 10px 0px 0px 0px;width: 100%;height: 25px;padding: 0px;}
        .tree_tab li{ list-style: none;float: left;margin: 0px 12px 0px 0px;background:#0d63b0;padding: 4px 16px;border-radius: 6px 6px 0px 0px;color: #fff; cursor:pointer; font-size:13px;}
        .tree_tab li.tablinks{background:#0d63b0; width:135px; text-align:center;}
        .tree_tab li.tablinks.active{background-color:#4c92ec!important;}
        .tree_btn{background: #0d63b0 !important;}
        .dynamic_varible label,.dynamic_varible input {
            display: inline-block !important;
        }
        #historyTbl tr td,#historyTbl tr th{ border:#ccc solid 1px; padding:5px;}
        #historyTbl{border-collapse: collapse; width:100%;}
        

        /* :not(:required) hides these rules from IE9 and below */
        .loading:not(:required) {
          /* hide "loading..." text */
          font: 0/0 a;
          color: transparent;
          text-shadow: none;
          background-color: transparent;
          border: 0;
        }

        .loading:not(:required):after {
          content: '';
          display: block;
          font-size: 10px;
          width: 1em;
          height: 1em;
          margin-top: -0.5em;
          -webkit-animation: spinner 150ms infinite linear;
          -moz-animation: spinner 150ms infinite linear;
          -ms-animation: spinner 150ms infinite linear;
          -o-animation: spinner 150ms infinite linear;
          animation: spinner 150ms infinite linear;
          border-radius: 0.5em;
          -webkit-box-shadow: rgba(255,255,255, 0.75) 1.5em 0 0 0, rgba(255,255,255, 0.75) 1.1em 1.1em 0 0, rgba(255,255,255, 0.75) 0 1.5em 0 0, rgba(255,255,255, 0.75) -1.1em 1.1em 0 0, rgba(255,255,255, 0.75) -1.5em 0 0 0, rgba(255,255,255, 0.75) -1.1em -1.1em 0 0, rgba(255,255,255, 0.75) 0 -1.5em 0 0, rgba(255,255,255, 0.75) 1.1em -1.1em 0 0;
        box-shadow: rgba(255,255,255, 0.75) 1.5em 0 0 0, rgba(255,255,255, 0.75) 1.1em 1.1em 0 0, rgba(255,255,255, 0.75) 0 1.5em 0 0, rgba(255,255,255, 0.75) -1.1em 1.1em 0 0, rgba(255,255,255, 0.75) -1.5em 0 0 0, rgba(255,255,255, 0.75) -1.1em -1.1em 0 0, rgba(255,255,255, 0.75) 0 -1.5em 0 0, rgba(255,255,255, 0.75) 1.1em -1.1em 0 0;
        }

        /* Animation */

        @-webkit-keyframes spinner {
          0% {
            -webkit-transform: rotate(0deg);
            -moz-transform: rotate(0deg);
            -ms-transform: rotate(0deg);
            -o-transform: rotate(0deg);
            transform: rotate(0deg);
          }
          100% {
            -webkit-transform: rotate(360deg);
            -moz-transform: rotate(360deg);
            -ms-transform: rotate(360deg);
            -o-transform: rotate(360deg);
            transform: rotate(360deg);
          }
        }
        @-moz-keyframes spinner {
          0% {
            -webkit-transform: rotate(0deg);
            -moz-transform: rotate(0deg);
            -ms-transform: rotate(0deg);
            -o-transform: rotate(0deg);
            transform: rotate(0deg);
          }
          100% {
            -webkit-transform: rotate(360deg);
            -moz-transform: rotate(360deg);
            -ms-transform: rotate(360deg);
            -o-transform: rotate(360deg);
            transform: rotate(360deg);
          }
        }
        @-o-keyframes spinner {
          0% {
            -webkit-transform: rotate(0deg);
            -moz-transform: rotate(0deg);
            -ms-transform: rotate(0deg);
            -o-transform: rotate(0deg);
            transform: rotate(0deg);
          }
          100% {
            -webkit-transform: rotate(360deg);
            -moz-transform: rotate(360deg);
            -ms-transform: rotate(360deg);
            -o-transform: rotate(360deg);
            transform: rotate(360deg);
          }
        }
        @keyframes spinner {
          0% {
            -webkit-transform: rotate(0deg);
            -moz-transform: rotate(0deg);
            -ms-transform: rotate(0deg);
            -o-transform: rotate(0deg);
            transform: rotate(0deg);
          }
          100% {
            -webkit-transform: rotate(360deg);
            -moz-transform: rotate(360deg);
            -ms-transform: rotate(360deg);
            -o-transform: rotate(360deg);
            transform: rotate(360deg);
          }
        }
    </style>
<style>
    /* Style the tab */
    .tab {
        overflow: hidden;
        border: 1px solid #f0f8ff;
        background-color: #ffffff;
    }

    /* Style the buttons that are used to open the tab content */
    .tab button {
        background-color: inherit;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 14px 16px;
        transition: 0.3s;
    }

    /* Change background color of buttons on hover */
    .tab button:hover {
        background-color: #f0f8ff;
    }

    /* Create an active/current tablink class */
    .tab button.active {
        background-color: #d9edff;
    }

    /* Style the tab content */
    .tabcontent {
        display: none;
        padding: 6px 12px;
        background-color: #ffffff;
        border-top: none;
    }
    .float-right {
						float: right;
						display: inline-block;
					}
          .float-left {
						float: left;
						display: inline-block;
					}
		      .dactive {
          background: #e00b0b !important;
					padding: 10px;
					display: flex;
					align-items: center;
					cursor: pointer;
          color: #fff !important;
				}
				.abga
				{
					width:30px !important;
					background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns%3D%22http%3A//www.w3.org/2000/svg%22 fill%3D%22none%22 stroke%3D%22white%22 stroke-width%3D%222%22 stroke-linecap%3D%22round%22 stroke-linejoin%3D%22round%22 viewBox%3D%220 0 24 24%22%3E%3Cline x1%3D%225%22 y1%3D%2212%22 x2%3D%2219%22 y2%3D%2212%22/%3E%3Cpolyline points%3D%2212 5 19 12 12 19%22/%3E%3C/svg%3E");
					background-repeat: no-repeat;
					background-position: right center;
					background-size: 25px;
					transition: background 0.3s ease;
				}
    </style>	
        </form>
    </div>                             

</div>


<script>
$(document).ready(function () {
$(".tree").click(function () {
$(".tree > li:first-child > label > .chat").parents('li > label > .chat').css("background-color", "red");
$(".tree > li:first-child > label > .chat").css("background-color", "#0d63b0");
$(".tree > li:first-child > label > .chat").css("color", "#fff");
});
/*Search tree*/
$('#searchText').on('keyup', function () {
  search = $('#searchText').val();
  main_parent_id = $('#decison_tree_parent_id').val();
$.ajax({
        method: 'POST',
        url: '/search_decision_tree',
        data: { search: search, main_parent_id: main_parent_id },
        success: function (response) {
            $('#treebar').html(response);
        }
    });

});
});
function gallery_view(id,main_parent_id) {
  $('.content-div').css({ display: 'none' });
  $('.tbgcls').removeClass('dactive');
  $('.bg_' + id).addClass('dactive');
  $('#divi_' + id).show();
$("#tree_node_id").val(id);
$("#main_tree_node_id").val(main_parent_id);
$(".bg_"+id).toggleClass("active_tree");
var rid = getLocalVariable('RecordID');
var campaign = getLocalVariable('CampaignName');
var phone = getLocalVariable('NumberToDial');
var user = getLocalVariable('USER_ID');
var call_type = getLocalVariable('CALL_TYPE');
var client_id = getLocalVariable('ClientID');
tree_dispose_show();
$.ajax({
    type: 'POST',
    url: 'load_decision_gallery',
    data: {id:id,rid:rid,campaign:campaign,phone:phone,user:user,call_type:call_type,client_id:client_id},
    beforeSend: function() {
        $("#ajax-loader").removeClass('hide');
    },
    success: function(responce) {
        $("#gallery_res").html(responce);
    },
    complete: function() {
        $("#ajax-loader").addClass('hide');
    }
});
}
</script>




<style>
    <% Object.keys(menus.items).forEach(function(key) { %>
        .bg_<%= menus.items[key].id %>{background:<%= menus.items[key].bk_color %>; color:<%= menus.items[key].text_color %>;padding:5px; font-size:13px;}
<% }); %>
    
.red_color_code{background:#FF4B23 !important; color:#fff}
</style>
